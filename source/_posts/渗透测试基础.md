[TOC]

# 渗透测试基础

##  专业术语（黑话）

- `弱口令（weak password）`：即强度不够，容易被破译的密码，多为简单的数字、键盘临近键，如123，abc这样的口令（密码）。

- `脱库`：脱库本来是数据库领域的术语，指从数据库中导出数据。在网络攻击领域，它被用来指网站遭到入侵后，黑客窃取其数据库文件。

- `撞库`：撞库是黑客通过收集互联网已泄露的用户和密码信息，生成对应的字典表，尝试批量登陆其他网站后，得到一系列可以登录的用户。
  很多用户在不同网站使用的是相同的帐号密码，因此黑客可以通过获取用户在A网站的账户从而尝试登录B网址，这就可以理解为撞库攻击。

- `木马`：就是那些表面上伪装成了正常的程序，但是当这些程序运行时，就会获取系统的整个控制权限。

- `肉鸡`：所谓“肉鸡”是一种很形象的比喻，比喻那些可以被攻击者控制的电脑、手机、服务器或者其他摄像头、路由器等智能设备，用于发动网络攻击。

  [^例子]: 在2016年美国东海岸断网事件中，黑客组织控制了大量的联网摄像头用于发动网络攻击，这些摄像头则可被称为“肉鸡”。

- `抓鸡`：即设法控制电脑，将其沦为肉鸡。

- `跳板`：一个具有辅助作用的机器，利用这个主机作为一个间接工具，来入侵其他主机，一般和肉鸡连用。

- `网马 网页木马`：就是在网页中植入木马，当打开网页的时候就运行了木马程序。表面上伪装成普通的网页或是将恶意代码直接插入到正常的网页文件中，当有人访问时，网页木马就会利用对方系统或者浏览器的漏洞自动将配置好的木马服务端植入到访问者的电脑上来自动执行将受影响的客户电脑变成肉鸡或纳入僵尸网络。

- `网络钓鱼`：攻击者利用欺骗性的电子邮件或伪造的 Web 站点等来进行网络诈骗活动。
  诈骗者通常会将自己伪装成网络银行、在线零售商和信用卡公司等可信的品牌，骗取用户的私人信息或邮件账号口令。
  受骗者往往会泄露自己的邮箱、私人资料，如信用卡号、银行卡账户、身份证号等内容。

- `勒索病毒`：主要以邮件、程序木马、网页挂马的形式进行传播。该病毒性质恶劣、危害极大，一旦感染将给用户带来无法估量的损失。这种病毒利用各种加密算法对文件进行加密，被感染者一般无法解密，必须拿到解密的私钥才有可能破解。

- `嗅探器（Sniffer）`：就是能够捕获网络报文的设备或程序。嗅探器的正当用处在于分析网络的流量，以便找出所关心的网络中潜在的问题。

- `攻击载荷（Payload）`：是系统被攻陷后执行的多阶段恶意代码。
  通常攻击载荷附加于漏洞攻击模块之上，随漏洞攻击一起分发，并可能通过网络获取更多的组件。

- `后门`：这是一种形象的比喻，入侵者在利用某些方法成功的控制了目标主机后，可以在对方的系统中植入特定的程序，或者是修改某些设置，用于访问、查看或者控制这台主机。这些改动表面上是很难被察觉的，就好象是入侵者偷偷的配了一把主人房间的钥匙，或者在不起眼处修了一条按到，可以方便自身随意进出。通常大多数木马程序都可以被入侵者用于创建后门（BackDoor）。

- `拿站`：指得到一个网站的最高权限，即得到后台和管理员名字和密码。

- `横移`：指攻击者入侵后，从立足点在内部网络进行拓展，搜寻控制更多的系统。

- `提权`：指得到你本没得到的权限，比如说电脑中非系统管理员就无法访问一些C盘的东西，而系统管理员就可以，通过一定的手段让普通用户提升成为管理员，让其拥有管理员的权限，这就叫提权。

- `漏洞`：漏洞是在硬件、软件、协议的具体实现或系统安全策略上存在的缺陷，从而可以使攻击者能够在未授权的情况下访问或破坏系统。
  奇安信集团董事长齐向东在《漏洞》一书中指出，软件的缺陷是漏洞的一个主要来源，缺陷是天生的，漏洞是不可避免的。

- `“0day”`是指从发现漏洞到对其进行首次攻击之间的天数。0day漏洞公开后，便称为nday漏洞。0day漏洞爆出时由于官方还未发现，但官方还不知道或还没有发布相应补丁的漏洞。0day漏洞最大的危险在于只有少部分人知道，公众和官方都一无所知。当然，如果大家都知道了也就不是0day漏洞了。

- `1day漏洞`：指漏洞信息已公开但仍未发布补丁的漏洞。此类漏洞的危害仍然较高，但往往官方会公布部分缓解措施，如关闭部分端口或者服务等。

- `Nday漏洞`：指已经发布官方补丁的漏洞。通常情况下，此类漏洞的防护只需更新补丁即可，但由于多种原因，导致往往存在大量设备漏洞补丁更新不及时，且漏洞利用方式已经在互联网公开，往往此类漏洞是黑客最常使用的漏洞。
  例如在永恒之蓝事件中，微软事先已经发布补丁，但仍有大量用户中招。

- `免杀`：就是通过加壳、加密、修改特征码、加花指令等等技术来修改程序，使其逃过杀毒软件的查杀。

- `暴力破解`：简称“爆破”。黑客对系统中账号的每一个可能的密码进行高度密集的自动搜索，从而破坏安全并获得对计算机的访问权限。

- 

## 攻击

`OWASP（开放式Web应用程序安全项目）`是一个开放的社区，由非营利组织 OWASP基金会支持的项目。对所有致力于改进应用程序安全的人士开放，旨在提高对应用程序安全性的认识。

其最具权威的就是“10项最严重的Web 应用程序安全风险列表” ，总结并更新Web应用程序中最可能、最常见、最危险的十大漏洞，是开发、测试、服务、咨询人员应知应会的知识。





- `SYN攻击`：利用操作系统TCP协调设计上的问题执行的拒绝服务攻击，涉及TCP建立连接时三次握手的设计。

- `CC攻击`：即Challenge Collapsar，名字来源于对抗国内安全厂商绿盟科技早期的抗拒绝服务产品黑洞，攻击者借助代理服务器生成指向受害主机的涉及大量占用系统资源的合法请求，耗尽目标的处理资源，达到拒绝服务的目的。

- DoS攻击`：拒绝服务攻击。攻击者通过利用漏洞或发送大量的请求导致攻击对象无法访问网络或者网站无法被访问。

- `DDoS`：分布式DOS攻击，常见的UDP、SYN、反射放大攻击等等，就是通过许多台肉鸡一起向你发送一些网络请求信息，导致你的网络堵塞而不能正常上网。

- `挂马`:就是在别人的网站文件里面放入网页木马或者是将代码潜入到对方正常的网页文件里，以使浏览者中马。

- `挖洞`:指漏洞挖掘。

- `加壳`:就是利用特殊的算法，将EXE可执行程序或者DLL动态连接库文件的编码进行改变（比如实现压缩、加密），以达到缩小文件体积或者加密程序编码，甚至是躲过杀毒软件查杀的目的。
  目前较常用的壳有UPX，ASPack、PePack、PECompact、UPack、免疫007、木马彩衣等等。

- `溢出`:简单的解释就是程序对输入数据没有执行有效的边界检测而导致错误，后果可能是造成程序崩溃或者是执行攻击者的命令。

- `缓冲区溢出`:攻击者向一个地址区输入这个区间存储不下的大量字符。在某些情况下，这些多余的字符可以作为“执行代码”来运行，因此足以使攻击者不受安全措施限制而获得计算机的控制权。

- `注入`:Web安全头号大敌。攻击者把一些包含攻击代码当做命令或者查询语句发送给解释器，这些恶意数据可以欺骗解释器，从而执行计划外的命令或者未授权访问数据。
  注入攻击漏洞往往是应用程序缺少对输入进行安全性检查所引起的。注入漏洞通常能在SQL查询、LDAP查询、OS命令、程序参数等中出现。

- `SQL注入`:注入攻击最常见的形式，主要是指Web应用程序对用户输入数据的合法性没有判断或过滤不严，攻击者可以在Web应用程序中事先定义好的查询语句的结尾上添加额外的SQL语句，在管理员不知情的情况下实现非法操作，以此来实现欺骗数据库服务器执行非授权的任意查询或其他操作，导致数据库信息泄露或非授权操作数据表。

- `注入点`:即可以实行注入的地方，通常是一个涉及访问数据库的应用链接。根据注入点数据库的运行帐号的权限的不同，你所得到的权限也不同。

- `软件脱壳`:顾名思义，就是利用相应的工具，把在软件“外面”起保护作用的“壳”程序去除，还文件本来面目，这样再修改文件内容或进行分析检测就容易多了。

- `免杀`:就是通过加壳、加密、修改特征码、加花指令等等技术来修改程序，使其逃过杀毒软件的查杀。

- `暴力破解`:简称“爆破”。黑客对系统中账号的每一个可能的密码进行高度密集的自动搜索，从而破坏安全并获得对计算机的访问权限。

- `洪水攻击`:是黑客比较常用的一种攻击技术，特点是实施简单，威力巨大，大多是无视防御的。从定义上说，攻击者对网络资源发送过量数据时就发生了洪水攻击，这个网络资源可以是router，switch，host，application等。
  洪水攻击将攻击流量比作成洪水，只要攻击流量足够大，就可以将防御手段打穿。
  DDoS攻击便是洪水攻击的一种。

- `鱼叉攻击`：鱼叉攻击是将用鱼叉捕鱼形象的引入到了网络攻击中，主要是指可以使欺骗性电子邮件看起来更加可信的网络钓鱼攻击，具有更高的成功可能性。
  不同于撒网式的网络钓鱼，鱼叉攻击往往更加具备针对性，攻击者往往“见鱼而使叉”。
  为了实现这一目标，攻击者将尝试在目标上收集尽可能多的信息。通常，组织内的特定个人存在某些安全漏洞。

- `水坑攻击`：顾名思义，是在受害者必经之路设置了一个“水坑(陷阱)”。
  最常见的做法是，黑客分析攻击目标的上网活动规律，寻找攻击目标经常访问的网站的弱点，先将此网站“攻破”并植入攻击代码，一旦攻击目标访问该网站就会“中招”。

- `花指令`:通过加入不影响程序功能的多余汇编指令，使得杀毒软件不能正常的判断病毒文件的构造。说通俗点就是“杀毒软件是从头到脚按顺序来识别病毒。如果我们把病毒的头和脚颠倒位置，杀毒软件就找不到病毒了”。

- `反弹端口`:有人发现，防火墙对于连入的连接往往会进行非常严格的过滤，但是对于连出的连接却疏于防范。于是，利用这一特性，反弹端口型软件的服务端(被控制端)会主动连接客户端(控制端)，就给人“被控制端主动连接控制端的假象，让人麻痹大意。

- `网络钓鱼`:攻击者利用欺骗性的电子邮件或伪造的 Web 站点等来进行网络诈骗活动。
  诈骗者通常会将自己伪装成网络银行、在线零售商和信用卡公司等可信的品牌，骗取用户的私人信息或邮件账号口令。
  受骗者往往会泄露自己的邮箱、私人资料，如信用卡号、银行卡账户、身份证号等内容。

- `Webshell`:Webshell就是以asp、php、jsp或者cgi等网页文件形式存在的一种命令执行环境，也可以将其称做是一种网页后门，可以上传下载文件，查看数据库，执行任意程序命令等。

- `中间人攻击`:中间人攻击是一种“间接”的入侵攻击，这种攻击模式是通过各种技术手段将受入侵者控制的一台计算机虚拟放置在网络连接中的两台通信计算机之间，通过拦截正常的网络通信数据，并进行数据篡改和嗅探，而这台计算机就称为“中间人”。

- `ARP攻击`:ARP协议的基本功能就是通过目标设备的IP地址，查询目标设备的MAC地址，以保证通信的进行。
  基于ARP协议的这一工作特性，黑客向对方计算机不断发送有欺诈性质的ARP数据包，数据包内包含有与当前设备重复的Mac地址，使对方在回应报文时，由于简单的地址重复错误而导致不能进行正常的网络通信。

欺骗攻击

网络欺骗的技术主要有：HONEYPOT和分布式HONEYPOT、欺骗空间技术等。
主要方式有：IP欺骗、ARP欺骗、 DNS欺骗、Web欺骗、电子邮件欺骗、源路由欺骗（通过指定路由，以假冒身份与其他主机进行合法通信或发送假报文，使受攻击主机出现错误动作）、地址欺骗（包括伪造源地址和伪造中间站点）等。

Shellcode

一段可被操作系统无需特别定位处理的指令，通常在利用软件漏洞后执行的恶意代码，shellcode为二进制的机器码，因为经常让攻击者获得shell而得名。

物理攻击

通俗理解，即采用物理接触而非技术手段达到网络入侵的目的，最常见的表现形式为插U盘。
著名的震网病毒事件即通过插U盘的形式，感染了伊朗核设施。

### 3．攻击者

黑产

网络黑产，指以互联网为媒介，以网络技术为主要手段，为计算机信息系统安全和网络空间管理秩序，甚至国家安全、社会政治稳定带来潜在威胁（重大安全隐患）的非法行为。
例如非法数据交易产业。

暗网

暗网是利用加密传输、P2P对等网络、多点中继混淆等，为用户提供匿名的互联网信息访问的一类技术手段，其最突出的特点就是匿名性。

黑帽黑客

以非法目的进行黑客攻击的人，通常是为了经济利益。他们进入安全网络以销毁、赎回、修改或窃取数据，或使网络无法用于授权用户。
这个名字来源于这样一个历史：老式的黑白西部电影中，恶棍很容易被电影观众识别，因为他们戴着黑帽子，而“好人”则戴着白帽子。

白帽黑客

是那些用自己的黑客技术来进行合法的安全测试分析的黑客，测试网络和系统的性能来判定它们能够承受入侵的强弱程度。

红帽黑客

事实上最为人所接受的说法叫红客。
红帽黑客以正义、道德、进步、强大为宗旨，以热爱祖国、坚持正义、开拓进取为精神支柱，红客通常会利用自己掌握的技术去维护国内网络的安全，并对外来的进攻进行还击。

红队

通常指攻防演习中的攻击队伍。

蓝队

通常指攻防演习中的防守队伍。

紫队

攻防演习中新近诞生的一方，通常指监理方或者裁判方。、

### 1．软硬件

加密机

主机加密设备，加密机和主机之间使用TCP/IP协议通信，所以加密机对主机的类型和主机操作系统无任何特殊的要求。

CA证书

为实现双方安全通信提供了电子认证。
在因特网、公司内部网或外部网中，使用数字证书实现身份识别和电子信息加密。
数字证书中含有密钥对（公钥和私钥）所有者的识别信息，通过验证识别信息的真伪实现对证书持有者身份的认证。

SSL证书

SSL证书是数字证书的一种，类似于驾驶证、护照和营业执照的电子副本。
因为配置在服务器上，也称为SSL服务器证书。

防火墙

主要部署于不同网络或网络安全域之间的出口，通过监测、限制、更改跨越防火墙的数据流，尽可能地对外部屏蔽网络内部的信息、结构和运行状况，有选择地接受外部访问。

IDS

入侵检测系统，用于在黑客发起进攻或是发起进攻之前检测到攻击，并加以拦截。
IDS是不同于防火墙。防火墙只能屏蔽入侵，而IDS却可以在入侵发生以前，通过一些信息来检测到即将发生的攻击或是入侵并作出反应。

NIDS

是Network Intrusion Detection System的缩写，即网络入侵检测系统，主要用于检测Hacker或Cracker 。
通过网络进行的入侵行为。NIDS的运行方式有两种，一种是在目标主机上运行以监测其本身的通信信息，另一种是在一台单独的机器上运行以监测所有网络设备的通信信息，比如Hub、路由器。

IPS

全称为Intrusion-Prevention System，即入侵防御系统，目的在于及时识别攻击程序或有害代码及其克隆和变种，采取预防措施，先期阻止入侵，防患于未然。
或者至少使其危害性充分降低。入侵预防系统一般作为防火墙 和防病毒软件的补充来投入使用。

杀毒软件

也称反病毒软件或防毒软件，是用于消除电脑病毒、特洛伊木马和恶意软件等计算机威胁的一类软件。

反病毒引擎

通俗理解，就是一套判断特定程序行为是否为病毒程序（包括可疑的）的技术机制。
例如奇安信自主研发的QOWL猫头鹰反病毒引擎。

防毒墙

区别于部署在主机上的杀毒软件，防毒墙的部署方式与防火墙类似，主要部署于网络出口，用于对病毒进行扫描和拦截，因此防毒墙也被称为反病毒网关。

老三样

通常指IDS、防火墙和反病毒三样历史最悠久安全产品。

告警

指网络安全设备对攻击行为产生的警报。

误报

也称为无效告警，通常指告警错误，即把合法行为判断成非法行为而产生了告警。
目前，由于攻击技术的快速进步和检测技术的限制，误报的数量非常大，使得安全人员不得不花费大量时间来处理此类告警，已经成为困扰并拉低日常安全处置效率的主要原因。

漏报

通常指网络安全设备没有检测出非法行为而没有产生告警。一旦出现漏报，将大幅增加系统被入侵的风险。

NAC

全称为Network Access Control，即网络准入控制，其宗旨是防止病毒和蠕虫等新兴黑客技术对企业安全造成危害。
借助NAC，客户可以只允许合法的、值得信任的终端设备（例如PC、服务器、PDA）接入网络，而不允许其它设备接入。

漏扫

即漏洞扫描，指基于漏洞数据库，通过扫描等手段对指定的远程或者本地计算机系统的安全脆弱性进行检测，发现可利用漏洞的一种安全检测（渗透攻击）行为。

UTM

即Unified Threat Management，中文名为统一威胁管理，最早由IDC于2014年提出，即将不同设备的安全能力（最早包括入侵检测、防火墙和反病毒技术），集中在同一网关上，实现统一管理和运维。

网闸

网闸是使用带有多种控制功能的固态开关读写介质，连接两个独立主机系统的信息安全设备。
由于两个独立的主机系统通过网闸进行隔离，只有以数据文件形式进行的无协议摆渡。

堡垒机

运用各种技术手段监控和记录运维人员对网络内的服务器、网络设备、安全设备、数据库等设备的操作行为，以便集中报警、及时处理及审计定责。

数据库审计

能够实时记录网络上的数据库活动，对数据库操作进行细粒度审计的合规性管理，对数据库遭受到的风险行为进行告警，对攻击行为进行阻断。
它通过对用户访问数据库行为的记录、分析和汇报，用来帮助用户事后生成合规报告、事故追根溯源，同时加强内外部数据库网络行为记录，提高数据资产安全。

DLP

数据防泄漏，通过数字资产的精准识别和策略制定，主要用于防止企业的指定数据或信息资产以违反安全策略规定的形式流出企业。

VPN

虚拟专用网，在公用网络上建立专用网络，进行加密通讯，通过对数据包的加密和数据包目标地址的转换实现远程访问。

SD-WAN

即软件定义广域网，这种服务用于连接广阔地理范围的企业网络、数据中心、互联网应用及云服务。
这种服务的典型特征是将网络控制能力通过软件方式云化。
通常情况下，SD-WAN都集成有防火墙、入侵检测或者防病毒能力。并且从目前的趋势来看，以安全为核心设计的SD-WAN正在崭露头角，包括奇安信、Fortinet等多家安全厂商开始涉足该领域，并提供了较为完备的内生安全设计。

路由器

是用来连接不同子网的中枢，它们工作于OSI7层模型的传输层和网络层。
路由器的基本功能就是将网络信息包传输到它们的目的地。一些路由器还有访问控制列表（ACLs），允许将不想要的信息包过滤出去。
许多路由器都可以将它们的日志信息注入到IDS系统中，并且自带基础的包过滤（即防火墙）功能。

网关

通常指路由器、防火墙、IDS、VPN等边界网络设备。

WAF

即Web Application Firewall，即Web应用防火墙，是通过执行一系列针对HTTP/HTTPS的安全策略来专门为Web应用提供保护的一款产品。

SOC

即Security Operations Center，翻译为安全运行中心或者安全管理平台，通过建立一套实时的资产风险模型，协助管理员进行事件分析、风险分析、预警管理和应急响应处理的集中安全管理系统。

LAS

日志审计系统，主要功能是提供日志的收集、检索和分析能力，可为威胁检测提供丰富的上下文。

NOC

即Network Operations Center，网络操作中心或网络运行中心，是远程网络通讯的管理、监视和维护中心，是网络问题解决、软件分发和修改、路由、域名管理、性能监视的焦点。

SIEM

即Security Information and Event Management，安全信息和事件管理，负责从大量企业安全控件、主机操作系统、企业应用和企业使用的其他软件收集安全日志数据，并进行分析和报告。

上网行为管理

是指帮助互联网用户控制和管理对互联网使用的设备。
其包括对网页访问过滤、上网隐私保护、网络应用控制、带宽流量管理、信息收发审计、用户行为分析等。

蜜罐（Honeypot）

是一个包含漏洞的系统，它摸拟一个或多个易受攻击的主机，给黑客提供一个容易攻击的目标。
由于蜜罐没有其它任务需要完成，因此所有连接的尝试都应被视为是可疑的。
蜜罐的另一个用途是拖延攻击者对其真正目标的攻击，让攻击者在蜜罐上浪费时间。
蜜罐类产品包括蜜网、蜜系统、蜜账号等等。

沙箱

沙箱是一种用于安全的运行程序的机制。它常常用来执行那些非可信的程序。
非可信程序中的恶意代码对系统的影响将会被限制在沙箱内而不会影响到系统的其它部分。

沙箱逃逸

一种识别沙箱环境，并利用静默、欺骗等技术，绕过沙箱检测的现象

网络靶场

主要是指通过虚拟环境与真实设备相结合，模拟仿真出真实赛博网络空间攻防作战环境，能够支撑攻防演练、安全教育、网络空间作战能力研究和网络武器装备验证试验平台。

### 2．技术与服务

加密技术

加密技术包括两个元素：算法和密钥。
算法是将普通的文本与一串数字（密钥）的结合，产生不可理解的密文的步骤，密钥是用来对数据进行编码和解码的一种算法。
密钥加密技术的密码体制分为对称密钥体制和非对称密钥体制两种。相应地，对数据加密的技术分为两类，即对称加密（私人密钥加密）和非对称加密（公开密钥加密）。对称加密的加密密钥和解密密钥相同，而非对称加密的加密密钥和解密密钥不同，加密密钥可以公开而解密密钥需要保密。

黑名单

顾名思义，黑名单即不好的名单，凡是在黑名单上的软件、IP地址等，都被认为是非法的。

白名单

与黑名单对应，白名单即“好人”的名单，凡是在白名单上的软件、IP等，都被认为是合法的，可以在计算机上运行。

内网

通俗的讲就是局域网，比如网吧、校园网、公司内部网等都属于此类。
查看IP地址，如果是在以下三个范围之内，就说明我们是处于内网之中的：10.0.0.0—10.255.255.255，172.16.0.0—172.31.255.255，192.168.0.0—192.168.255.255

外网

直接连入INTERNET（互连网），可以与互连网上的任意一台电脑互相访问。

边界防御

以网络边界为核心的防御模型，以静态规则匹配为基础，强调把所有的安全威胁都挡在外网。

南北向流量

通常指数据中心内外部通信所产生的的流量。

东西向流量

通常指数据中心内部不同主机之间互相通信所产生的的流量。

规则库

网络安全的核心数据库，类似于黑白名单，用于存储大量安全规则，一旦访问行为和规则库完成匹配，则被认为是非法行为。所以有人也将规则库比喻为网络空间的法律。

下一代

网络安全领域经常用到，用于表示产品或者技术有较大幅度的创新，在能力上相对于传统方法有明显的进步，通常缩写为NG（Next Gen）。
例如NGFW（下一代防火墙）、NGSOC（下一代安全管理平台）等。

大数据安全分析

区别于传统被动规则匹配的防御模式，以主动收集和分析大数据的方法，找出其中可能存在的安全威胁，因此也称数据驱动安全。
该理论最早由奇安信于2015年提出。

EPP

全称为Endpoint Protection Platform，翻译为端点保护平台，部署在终端设备上的安全防护解决方案,用于防止针对终端的恶意软件、恶意脚本等安全威胁，通常与EDR进行联动。

EDR

全称Endpoint Detection & Response，即端点检测与响应，通过对端点进行持续检测，同时通过应用程序对操作系统调用等异常行为分析，检测和防护未知威胁，最终达到杀毒软件无法解决未知威胁的目的。

NDR

全称Network Detection & Response，即网络检测与响应，通过对网络侧流量的持续检测和分析，帮助企业增强威胁响应能力，提高网络安全的可见性和威胁免疫力。

安全可视化

指在网络安全领域中的呈现技术，将网络安全加固、检测、防御、响应等过程中的数据和结果转换成图形界面，并通过人机交互的方式进行搜索、加工、汇总等操作的理论、方法和技术。

NTA

网络流量分析（NTA）的概念是Gartner于2013年首次提出的，位列五种检测高级威胁的手段之一。
它融合了传统的基于规则的检测技术，以及机器学习和其他高级分析技术，用以检测企业网络中的可疑行为，尤其是失陷后的痕迹。

MDR

全称Managed Detection & Response，即托管检测与响应，依靠基于网络和主机的检测工具来识别恶意模式。
此外，这些工具通常还会从防火墙之内的终端收集数据，以便更全面地监控网络活动。

应急响应

通常是指一个组织为了应对各种意外事件的发生所做的准备以及在事件发生后所采取的措施。

XDR

通常指以检测和响应技术为核心的网络安全策略的统称，包括EDR、NDR、MDR等。

安全运营

贯穿产品研发、业务运行、漏洞修复、防护与检测、应急响应等一系列环节，实行系统的管理方法和流程，将各个环节的安全防控作用有机结合，保障整个业务的安全性。

威胁情报

根据Gartner的定义，威胁情报是某种基于证据的知识，包括上下文、机制、标示、含义和能够执行的建议，这些知识与资产所面临已有的或酝酿中的威胁或危害相关，可用于资产相关主体对威胁或危害的响应或处理决策提供信息支持。根据使用对象的不同，威胁情报主要分为人读情报和机读情报。

TTP

主要包括三要素，战术Tactics、技术Techniques和过程Procedures，是描述高级威胁组织及其攻击的重要指标，作为威胁情报的一种重要组成部分，TTP可为安全分析人员提供决策支撑。

IOC

中文名为失陷标示：用以发现内部被APT团伙、木马后门、僵尸网络控制的失陷主机，类型上往往是域名、URL等。
目前而言，IOC是应用最为广泛的威胁情报，因为其效果最为直接。一经匹配，则意味着存在已经失陷的主机。

STIX

STIX是一种描述网络威胁信息的结构化语言，能够以标准化和结构化的方式获取更广泛的网络威胁信息，常用于威胁情报的共享与交换，目前在全球范围内使用最为广泛。
STIX在定义了8中构件的1.0版本基础上，已经推出了定义了12中构件的2.0版本。

杀伤链

杀伤链最早来源于军事领域，用于描述进攻一方各个阶段的状态。
在网络安全领域，这一概念最早由洛克希德-马丁公司提出，英文名称为Kill Chain，也称作网络攻击生命周期，包括侦查追踪、武器构建、载荷投递、漏洞利用、安装植入、命令控制、目标达成等七个阶段，来识别和防止入侵。

ATT&CK

可以简单理解为描述攻击者技战术的知识库。
MITRE在2013年推出了该模型，它是根据真实的观察数据来描述和分类对抗行为。
ATT&CK将已知攻击者行为转换为结构化列表，将这些已知的行为汇总成战术和技术，并通过几个矩阵以及结构化威胁信息表达式（STIX）、指标信息的可信自动化交换（TAXII）来表示。

钻石模型

钻石模型在各个领域的应用都十分广泛，在网络安全领域，钻石模型首次建立了一种将科学原理应用于入侵分析的正式方法：
可衡量、可测试和可重复——提供了一个对攻击活动进行记录、(信息)合成、关联的简单、正式和全面的方法。
这种科学的方法和简单性可以改善分析的效率、效能和准确性。

关联分析

又称关联挖掘，就是在交易数据、关系数据或其他信息载体中，查找存在于项目集合或对象集合之间的频繁模式、关联、相关性或因果结构。
在网络安全领域主要是指将不同维度、类型的安全数据进行关联挖掘，找出其中潜在的入侵行为。

态势感知

是一种基于环境的、动态、整体地洞悉安全风险的能力，是以安全大数据为基础，从全局视角提升对安全威胁的发现识别、理解分析、响应处置能力的一种方式，最终是为了决策与行动，是安全能力的落地。

探针

也叫作网络安全探针或者安全探针，可以简单理解为赛博世界的摄像头，部署在网络拓扑的关键节点上，用于收集和分析流量和日志，发现异常行为，并对可能到来的攻击发出预警。

网络空间测绘

用搜索引擎技术来提供交互，让人们可以方便的搜索到网络空间上的设备。
相对于现实中使用的地图，用各种测绘方法描述和标注地理位置，用主动或被动探测的方法，来绘制网络空间上设备的网络节点和网络连接关系图，及各设备的画像。

SOAR

全称Security Orchestration, Automation and Response，意即安全编排自动化与响应，主要通过剧本化、流程化的指令，对入侵行为采取的一系列自动化或者半自动化响应处置动作。

UEBA

全称为User and Entity Behavior Analytics，即用户实体行为分析，一般通过大数据分析的方法，分析用户以及IT实体的行为，从而判断是否存在非法行为。

内存保护

内存保护是操作系统对电脑上的内存进行访问权限管理的一个机制。内存保护的主要目的是防止某个进程去访问不是操作系统配置给它的寻址空间。

RASP

全称为Runtime application self-protection，翻译成应用运行时自我保护。
在2014年时由Gartner提出，它是一种新型应用安全保护技术，它将保护程序像疫苗一样注入到应用程序中，应用程序融为一体，能实时检测和阻断安全攻击，使应用程序具备自我保护能力，当应用程序遭受到实际攻击伤害，就可以自动对其进行防御，而不需要进行人工干预。

包检测

对于流量包、数据包进行拆包、检测的行为。

深度包检测

Deep Packet Inspection，缩写为 DPI，又称完全数据包探测（complete packet inspection）或信息萃取（Information eXtraction，IX），是一种计算机网络数据包过滤技术，用来检查通过检测点之数据包的数据部分（亦可能包含其标头），以搜索不匹配规范之协议、病毒、垃圾邮件、入侵迹象。

全流量检测

全流量主要体现在三个“全”上，即全流量采集与保存，全行为分析以及全流量回溯。
通过全流量分析设备，实现网络全流量采集与保存、全行为分析与全流量回溯，并提取网络元数据上传到大数据分析平台实现更加丰富的功能。

元数据

元数据（Metadata），又称中介数据、中继数据，为描述数据的数据（data about data），主要是描述数据属性（property）的信息，用来支持如指示存储位置、历史数据、资源查找、文件记录等功能。

欺骗检测

以构造虚假目标来欺骗并诱捕攻击者，从而达到延误攻击节奏，检测和分析攻击行为的目的。

微隔离

顾名思义是细粒度更小的网络隔离技术，能够应对传统环境、虚拟化环境、混合云环境、容器环境下对于东西向流量隔离的需求，重点用于阻止攻击者进入企业数据中心网络内部后的横向平移。

逆向

常见于逆向工程或者逆向分析，简单而言，一切从产品中提取原理及设计信息并应用于再造及改进的行为，都是逆向工程。
在网络安全中，更多的是调查取证、恶意软件分析等。

无代理安全

在终端安全或者虚拟化安全防护中，往往需要在每一台主机或者虚机上安装agent（代理程序）来实现，这种方式往往需要消耗大量的资源。
而无代理安全则不用安装agent，可以减少大量的部署运维工作，提升管理效率。

CWPP

全称Cloud Workload Protection Platform，意为云工作负载保护平台，主要是指对云上应用和工作负载（包括虚拟主机和容器主机上的工作负载）进行保护的技术，实现了比过去更加细粒度的防护，是现阶段云上安全的最后一道防线。

CSPM

云安全配置管理，能够对基础设施安全配置进行分析与管理。这些安全配置包括账号特权、网络和存储配置、以及安全配置（如加密设置）。如果发现配置不合规，CSPM会采取行动进行修正。

CASB

全称Cloud Access Security Broker，即云端接入安全代理。作为部署在客户和云服务商之间的安全策略控制点，是在访问基于云的资源时企业实施的安全策略。

防爬

意为防爬虫，主要是指防止网络爬虫从自身网站中爬取信息。网络爬虫是一种按照一定的规则，自动地抓取网络信息的程序或者脚本。

安全资源池

安全资源池是多种安全产品虚拟化的集合，涵盖了服务器终端、网络、业务、数据等多种安全能力。

IAM全称为Identity and Access Management，即身份与访问管理，经常也被叫做身份认证。

4A

即认证Authentication、授权Authorization、账号Account、审计Audit，即融合统一用户账号管理、统一认证管理、统一授权管理和统一安全审计四要素后的解决方案将，涵盖单点登录（SSO）等安全功能。

Access Control list(ACL)

访问控制列表。

多因子认证

主要区别于单一口令认证的方式，要通过两种以上的认证机制之后，才能得到授权，使用计算机资源。
例如，用户要输入PIN码，插入银行卡，最后再经指纹比对，通过这三种认证方式，才能获得授权。这种认证方式可以降低单一口令失窃的风险，提高安全性。

特权账户管理

简称PAM。由于特权账户往往拥有很高的权限，因此一旦失窃或被滥用，会给机构带来非常大的网络安全风险。所以，特权账户管理往往在显得十分重要。
其主要原则有：杜绝特权凭证共享、为特权使用赋以个人责任、为日常管理实现最小权限访问模型、对这些凭证执行的活动实现审计功能。

零信任

零信任并不是不信任，而是作为一种新的身份认证和访问授权理念，不再以网络边界来划定可信或者不可信，而是默认不相信任何人、网络以及设备，采取动态认证和授权的方式，把访问者所带来的的网络安全风险降到最低。

SDP

全称为Software Defined Perimeter，即软件定义边界，由云安全联盟基于零信任网络提出，是围绕某个应用或某一组应用创建的基于身份和上下文的逻辑访问边界。

Security as a Service

安全即服务，通常可理解为以SaaS的方式，将安全能力交付给客户。

同态加密

同态加密是一类具有特殊自然属性的加密方法，此概念是Rivest等人在20世纪70年代首先提出的，与一般加密算法相比，同态加密除了能实现基本的加密操作之外，还能实现密文间的多种计算功能。

量子计算

是一种遵循量子力学规律调控量子信息单元进行计算的新型计算模式，目前已经逐渐应用于加密和通信传输。

区块链英文名为blockchain，它是一个共享数据库，存储于其中的数据或信息，具有“不可伪造”、“全程留痕”、“可以追溯”、“公开透明”、“集体维护”等特征。

远程浏览器

鉴于浏览器往往成为黑客攻击的入口，因此将浏览器部署在远程的一个“浏览器服务器池”中。
这样一来，这些浏览器所在的服务器跟用户所在环境中的终端和网络是隔离的，从而使得客户所在网络的暴露面大大降低。这种服务也类似于虚拟桌面、云手机等产品。

渗透测试

为了证明网络防御按照预期计划正常运行而提供的一种机制，通常会邀请专业公司的攻击团队，按照一定的规则攻击既定目标，从而找出其中存在的漏洞或者其他安全隐患，并出具测试报告和整改建议。
其目的在于不断提升系统的安全性。

安全众测

借助众多白帽子的力量，针对目标系统在规定时间内进行漏洞悬赏测试。
您在收到有效的漏洞后，按漏洞风险等级给予白帽子一定的奖励。通常情况下是按漏洞付费，性价比较高。
同时，不同白帽子的技能研究方向可能不同，在进行测试的时候更为全面。

内生安全

由奇安信集团董事长齐向东在2019北京网络安全大会上首次提出，指的是不断从信息化系统内生长出的安全能力，能伴随业务的增长而持续提升，持续保证业务安全。
内生安全有三个特性，即依靠信息化系统与安全系统的聚合、业务数据与安全数据的聚合以及IT人才和安全人才的聚合，从信息化系统的内部，不断长出自适应、自主和自成长的安全能力。

PPDR

英文全称为Policy Protection Detection Response，翻译为策略、防护、检测和响应。
主要以安全策略为核心，通过一致性检查、流量统计、异常分析、模式匹配以及基于应用、目标、主机、网络的入侵检查等方法进行安全漏洞检测。

CARTA

全称为Continuous Adaptive Risk and Trust Assessment，即持续自适应风险与信任评估旨在通过动态智能分析来评估用户行为，放弃追求完美的安全，不能要求零风险，不要求100%信任，寻求一种0和1之间的风险与信任的平衡。
CARTA战略是一个庞大的体系，其包括大数据、AI、机器学习、自动化、行为分析、威胁检测、安全防护、安全评估等方面。

SDL

全称为Security Development Lifecycle，翻译为安全开发生命周期，是一个帮助开发人员构建更安全的软件和解决安全合规要求的同时降低开发成本的软件开发过程，最早由微软提出。

DevSecOps

全称为Development Security Operations，可翻译为安全开发与运维。
它强调在DevOps计划刚启动时就要邀请安全团队来确保信息的安全性，制定自动安全防护计划，并贯穿始终，实现持续 IT 防护。

代码审计

顾名思义就是检查源代码中的安全缺陷，检查程序源代码是否存在安全隐患，或者有编码不规范的地方，通过自动化工具或者人工审查的方式，对程序源代码逐条进行检查和分析，发现这些源代码缺陷引发的安全漏洞，并提供代码修订措施和建议。

NTLM验证

NTLM(NT LAN Manager)是微软公司开发的一种身份验证机制，从NT4开始就一直使用，主要用于本地的帐号管理。

MTTD

平均检测时间。

MTTR

平均响应时间。

CVE

全称Common Vulnerabilities and Exposures，由于安全机构Mitre维护一个国际通用的漏洞唯一编号方案，已经被安全业界广泛接受的标准。

软件加壳

“壳”是一段专门负责保护软件不被非法修改或反编译的程序。
它们一般都是先于程序运行，拿到控制权，然后完成它们保护软件的任务。
经过加壳的软件在跟踪时已无法看到其真实的十六进制代码，因此可以起到保护软件的目的。

CNVD

国家信息安全漏洞共享平台，由国家计算机应急响应中心CNCERT维护，主要负责统一收集、管理国内的漏洞信息，其发布的漏洞编号前缀也为CNVD。

数据脱敏

数据脱敏是指对某些敏感信息通过脱敏规则进行数据的变形，实现敏感隐私数据的可靠保护，主要用于数据的共享和交易等涉及大范围数据流动的场景。

SRC

即Security Response Center，中文名为安全应急响应中心，主要职责为挖掘并公开收集机构存在的漏洞和其他安全隐患。



IPC管道

为了更好地控制和处理不同进程之间的通信和数据交换，系统会通过一个特殊的连接管道来调度整个进程。

SYN包

TCP连接的第一个包，非常小的一种数据包。SYN攻击包括大量此类的包，由于这些包看上去来自实际不存在的站点，因此无法有效进行处理。

IPC$

是共享“命名管道”的资源，它是为了让进程间通信而开放的命名管道，可以通过验证用户名和密码获得相应的权限，在远程管理计算机和查看计算机的共享资源时使用。

ARP

地址解析协议(Address Resolution Protocol)此协议将网络地址映射到硬件地址。



## 渗透测试工具

**6、物联网搜索引擎**

![发现 CDNS 背后的IP](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

物联网搜索引擎是我们最好的朋友，当我们想要对我们的目标和它的资产做一些基本的侦查。

#### **1- Censys**

![发现 CDNS 背后的IP](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

Censys 是一个帮助信息安全从业者发现可以从互联网上访问的设备的平台。在 Censys 的帮助下，你可以找到有价值的信息，比如:

· IP Address IP 地址

· Open Ports 开放港口

· SSL Certs SSL 证书

· Hosting Providers 托管服务提供商

· etc. 等等

我们的文章主题的查询非常简单，我们只需要查询域本身，看看是否有任何 IP 泄漏。

![发现 CDNS 背后的IP](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

另一种方法是使用 Certificates 进行搜索，只需从蓝色条中选择 Certificates，然后搜索您的目标。

![发现 CDNS 背后的IP](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

现在打开每个结果来显示详细信息，然后从右边的“浏览”菜单中选择“ IPv4主机” :



简单地分析你的目标，看看是否有任何 IP 泄漏，并尝试使用他们的 IP 到达你的目标。

 

为了向你展示 Censys 有时候是如何导致目标的完全 IP 泄露的，我现在将向你展示我最近正在研究的一个目标，通过简单的 IPv4查询，我实现了 CDN 背后的 IP:

![发现 CDNS 背后的IP](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

正如你可以看到上面，有一个 IP，我探索和意识到，这是网站的起源 IP。

 

#### **2-Shodan**

![发现 CDNS 背后的IP](data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==)

“撒旦”是另一个物联网搜索引擎，它可以帮助安全研究人员找到有用的信息，关于他们正在接近的目标。在 Shodan 有很多东西可以搜索，我强烈建议你查看 Shodan Filters guidance，为了这篇文章，我们可以简单地查询域名和搜索 IPs。

 

使用 Shodan 你可以查询其他有趣的过滤器:

· Organizations 组织

· ASNs 天冬氨酸

· Favicon Hashes 图标哈希

· SSL Certificates 证书

· etc. 等等

 

#### **3- Zoomeye**

 

是另一个物联网搜索引擎，可以用来发现:

· Web Server Web 服务器

· IP & Ports IP 和端口

· Headers & Status Codes 头部和状态代码

· Vulnerabilities 漏洞

· etc. 等等





# 数据库基础

### SQL语言（Structured Query Language）

包含4个部分：

- 数据定义语言==DDL==-Data Definition Language：

  `create table`:创建数据库表

  `alter table`：更改表结构、添加、修改列长度

  `drop table`：删除表

  `create index`：在表上创建索引

  `drop index`：删除索引

  `drop database`：删除库

- 数据操纵语言==DML==-Data Manipulation Language：

  `insert`:添加数据到数据库

  `update`:修改数据库中的数据

  `delete`:删除数据库

- 数据查询语言==DQL==-Data Query Language：

  `select`:查询数据库中的数据

- 数据控制语言==DCL==-Data Control Language：

  `grant`:授予访问权限

  `revoke`:撤销访问权限

  `commit`:提交事务

  `roolback`:回退事务

  ### 数据库类型：

  1.关系型数据库

  | 关系型数据库                 | 关系型数据库                        |
  | :--------------------------- | ----------------------------------- |
  | Oracle    （默认端口号1521） | NoSQL                               |
  | MySQL   （默认端口号3306）   | MongoDB   （默认端口号27017）       |
  | MSSQL  （默认端口号1433）    | Redis            （默认端口号6379） |

  

### MySQL数据库系统表结构

mysql自带有四个数据库，分别是：mysql、sys、information_schema、performance_schema

- `mysql` :主要负责存储数据库的用户、权限设置、关键字等

- `sys`：数据源来自performance_schema,目标是把performance_schema的把复杂度降低，让DBA能更好的阅读这个库里的内容。让DBA更快的了解DB的运行情况

- `information_schema`：主要存储数据库对象的相关概要（schema）信息 ，如字符集、引擎、数据库、表、视图、列、权限

  ![image-20210225134552967](C:\Users\hasee\AppData\Roaming\Typora\typora-user-images\image-20210225134552967.png)

- `performance_schema`：主要用存储配置和数据库性能参数

### MySQL大小写规则

`Linux`：数据库名、表名、表别名、变量名严格**区分**大小写

`Windows`：各个对象名都**不区分**大小写

#### 数据类型

`char`:



### MySQL常用约束

| 约束类型 | 非空约束 | 主键约束    | 唯一约束 | 默认约束 | 外键约束    |
| -------- | -------- | ----------- | -------- | -------- | ----------- |
| 关键字   | not null | primary key | unique   | default  | foreign key |



## MySQL语法

#### 注释写法

```mysql
#这是注释  
/*这是注释*/
-- 这是注释
```

[^注]: `--`  这种注释后面要加一个**空格**

#### 创建数据库

```mysql
CREATE DATABASE 数据库名;
CREATE table 数据表名;
create database 数据库名 charset utf8; -- 创建数据库指定编码格式（字符集utf8）
```

#### 删除数据库

```mysql
drop database <数据库名>;
```

####  选择数据库

```mysql
use 数据库名;
```

[^注]: 所有的数据库名，表名，表字段都是区分大小写的。所以你在使用SQL命令时需要输入正确的名称。

#### 修改数据库

```mysql
alter databases 数据库名 character set utf8;
```

#### 修改表、列

```mysql
 -- 添加列
alter table 表名 add 新列名 数据类型;
-- 修改列名
alter table 表名 change 旧列名 新列名 新数据类型;
-- 把列的数据类型转换成另一种数据类型:
alter table 表名 modify 列名 数据类型;
-- 删除列
alter table 表名 drop 列名;
-- 修改表名
alter table 旧表名 rename 新表名; 
-- 删除表
drop table 表1,表2,表n;
```

#### 插入数据

```mysql
-- 指定列插入数据
insert into 表名(列 ,... 列n) values(值1,...值n);
-- 直接插入数据
insert into 表名  values(值1,...值n);
```

[^注意事项]: 字符和日期型数据应包含单引号中。

#### 删除数据

```mysql
-- 删除所有数据
delete from 表名;
-- 删除表中定义的数据
delete from 表名 where 条件;

/*  				·注	意·
*	1.如果不使用where语句，将删除表中所有数据。
*	2.Delete语句不能删除某一列的值（可用update）。
*	3.使用delete语句仅删除记录，不删除表本身。如要删除表，使用drop table语句。
*/
```

#### 更改数据

```
update 表名 set 字段名=字段内容[where 条件]

```

#### 查询数据

```mysql

```



#### 显示当前连接的信息

```mysql
#显示当前数据库
select DATABASE();
#显示当前服务器版本
select version();
#显示当前时间
select now();
#显示当前用户
select USER();
#显示所有字符集 utf8、GBK、Gb2312，其中GBK和utf8是常用字符集
show CHARACTER SET;
```

# [MySQL创建用户与授权](https://www.cnblogs.com/zhongyehai/p/10695659.html)

 


一. 创建用户

命令:CREATE USER 'username'@'host' IDENTIFIED BY 'password';

![img](https://img2018.cnblogs.com/blog/1406024/201904/1406024-20190412135142103-2106779301.png)

说明：
username：你将创建的用户名
host：指定该用户在哪个主机上可以登陆，如果是本地用户可用localhost，如果想让该用户可以从任意远程主机登陆，可以使用通配符%
password：该用户的登陆密码，密码可以为空，如果为空则该用户可以不需要密码登陆服务器
例子：
CREATE USER 'dog'@'localhost' IDENTIFIED BY '123456';
CREATE USER 'pig'@'192.168.1.101_' IDENDIFIED BY '123456';
CREATE USER 'pig'@'%' IDENTIFIED BY '123456';
CREATE USER 'pig'@'%' IDENTIFIED BY '';
CREATE USER 'pig'@'%';

二. 授权:

命令:GRANT privileges ON databasename.tablename TO 'username'@'host'

![img](https://img2018.cnblogs.com/blog/1406024/201904/1406024-20190412135306971-81996223.png)

说明:
privileges：用户的操作权限，如SELECT，INSERT，UPDATE等，如果要授予所的权限则使用ALL
databasename：数据库名
tablename：表名，如果要授予该用户对所有数据库和表的相应操作权限则可用*表示，如*.*
例子:
GRANT SELECT, INSERT ON test.user TO 'pig'@'%';
GRANT ALL ON *.* TO 'pig'@'%';
GRANT ALL ON maindataplus.* TO 'pig'@'%';
注意:
用以上命令授权的用户不能给其它用户授权，如果想让该用户可以授权，用以下命令:
GRANT privileges ON databasename.tablename TO 'username'@'host' WITH GRANT OPTION;

![img](https://img2018.cnblogs.com/blog/1406024/201904/1406024-20190412135429289-1054112453.png)

 

尝试连接，连接成功



三.设置与更改用户密码

命令:SET PASSWORD FOR 'username'@'host' = PASSWORD('newpassword');

如果是当前登陆用户用:
SET PASSWORD = PASSWORD("newpassword");
例子:
SET PASSWORD FOR 'pig'@'%' = PASSWORD("123456");


四. 撤销用户权限
命令:REVOKE privilege ON databasename.tablename FROM 'username'@'host';
说明:
privilege, databasename, tablename：同授权部分

例子:
REVOKE SELECT ON *.* FROM 'pig'@'%';
注意:
假如你在给用户'pig'@'%'授权的时候是这样的（或类似的）：GRANT SELECT ON test.user TO 'pig'@'%'，则在使用REVOKE SELECT ON *.* FROM 'pig'@'%';命令并不能撤销该用户对test数据库中user表的SELECT 操作。相反，如果授权使用的是GRANT SELECT ON *.* TO 'pig'@'%';则REVOKE SELECT ON test.user FROM 'pig'@'%';命令也不能撤销该用户对test数据库中user表的Select权限。

具体信息可以用命令SHOW GRANTS FOR 'pig'@'%'; 查看。


五.删除用户
命令:DROP USER 'username'@'host';

讨论群：249728408





















# 网络基础知识

DNS 域名解析

DNS 中的域名都是用**句点**来分隔的，比如 `www.baidu.com`，这里的句点代表了不同层次之间的**界限**。

在域名中，**越靠右**的位置表示其层级**越高**。

根域是在最顶层，它的下一层就是 com 顶级域，再下面是 server.com。

所以域名的层级关系类似一个树状结构：

根 DNS 服务器

顶级域 DNS 服务器（com）

权威 DNS 服务器（server.com

**一、什么是CDN？**

  CDN 允许快速传输加载互联网内容所需的资源，包括 HTML 页面、 Javascript 文件、样式表、图像和视频。CDN 服务的普及程度持续增长，今天大部分的网络流量是通过 CDN 提供的，包括来自 Facebook、 Netflix 和 Amazon 等主要网站的流量。

二、为什么网站需要 CDN？

  性能问题---- 如果网站不使用 CDN，所有的用户都应该将他们的请求发送到一台服务器上，因为这会给服务器带来大量的负载，网站的性能会降低。现在大多数网站使用 CDN，因为它可以帮助他们有更好的加载速度，降低带宽成本，提高安全性等等。CDN 还为不同类型的企业和组织提供许多特定的好处，例如:

· 电子贸易

· 政府

· 金融

· 传媒/出版

· 移动应用程序

· 技术和 SaaS

## **三、使用 CDN 的好处**

1.  提高网站速度和加载时间
2.  降低带宽成本
3.  改善网站安全
4.  搜索引擎优化优势
5.  流量峰值和可扩展性
6.  更好的转化率
7.  可靠性

使用 CDN 后，所有要求网站内容的用户将从最近的 CDN 边缘服务器获得一个内容的缓存版本，因此内容将加载得更快，网站的性能得到提高。

 反向代理是一个服务器，它接收客户端请求并将其转发到后端服务器。它是客户机和原始服务器本身之间的中间服务器。CDN 反向代理将这个概念更进一步，缓存从原始服务器返回到客户机的响应。因此，CDN 的服务器能够更快地将资产传递给附近的访问者。由于以下原因，这种方法也是可取的:







ARP 与 RARP 协议

DHCP 动态获取 IP 地址

NAT 网络地址转换

ICMP 互联网控制报文协议

IGMP 因特网组管理协



# 信息收集



Google Hack语法

inurl:搜索指定的字符

site:xx.com  inurl:login google 

intitle

MYSQL：3306

MSSQL：1433





nmap -sP 172.24.11.0/24

nmap -sV 172.24.11.134

hydra -l root -L dict.txt

### 常见绕过CDN的方法有哪些  

正常情况下，通过cmd命令可以快速找到域名对应IP，最常见的命令如ping、nslookup。但很多站点出于用户体验和安全的角度，使用CDN加速，将域名解析到CDN，这时候就需要绕过CDN来查找真实IP。

#### **一、DNS历史解析记录**

查询域名的历史解析记录，可能会找到网站使用CDN前的解析记录，从而获取真实ip，相关查询的网站有：

```
iphistory：https://viewdns.info/iphistory/
```

IP History 查询记录：

#### **二、查找子域名**

很多时候，一些重要的站点会做CDN，而一些子域名站点并没有加入CDN，而且跟主站在同一个C段内，这时候，就可以通过查找子域名来查找网站的真实IP。

常用的子域名查找方法和工具：

1、搜索引擎查询：如Google、baidu、Bing等传统搜索引擎，site:baidu.com inurl:baidu.com，搜target.com|公司名字。

2、一些在线查询工具，如：

```
http://tool.chinaz.com/subdomain/
```

3、 子域名爆破工具

```
Layer子域名挖掘机
```

#### **三、网站邮件头信息**

比如说，邮箱注册，邮箱找回密码、RSS邮件订阅等功能场景，通过网站给自己发送邮件，从而让目标主动暴露他们的真实的IP，查看邮件头信息，获取到网站的真实IP。

#### **四、网络空间安全引擎搜索**

通过关键字或网站域名，就可以找出被收录的IP，很多时候获取到的就是网站的真实IP。

```
钟馗之眼：https://www.zoomeye.org
```

ZoomEy搜索：

#### **五、利用SSL证书寻找真实IP**

证书颁发机构(CA)必须将他们发布的每个SSL/TLS证书发布到公共日志中，SSL/TLS证书通常包含域名、子域名和电子邮件地址。因此SSL/TLS证书成为了攻击者的切入点。

SSL证书搜索引擎：

```
https://censys.io/ipv4?q=github.com
```

Censys 证书搜索：

#### **六、国外主机解析域名**

大部分 CDN 厂商因为各种原因只做了国内的线路，而针对国外的线路可能几乎没有，此时我们使用国外的DNS查询，很可能获取到真实IP。

国外多PING测试工具：

```
https://asm.ca.com/zh_cn/ping.php
```

国外多ping网站测试：

#### **七、扫描全网**

通过Zmap、masscan等工具对整个互联网发起扫描，针对扫描结果进行关键字查找，获取网站真实IP。

1、ZMap号称是最快的互联网扫描工具，能够在45分钟扫遍全网。

```
https://github.com/zmap/zmap
```

2、Masscan号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网。

```
https://github.com/robertdavidgraham/masscan
```

#### **八、配置不当导致绕过**

在配置CDN的时候，需要指定域名、端口等信息，有时候小小的配置细节就容易导致CDN防护被绕过。

案例1：为了方便用户访问，我们常常将`www.test.com` 和 `test.com` 解析到同一个站点，而CDN只配置了www.test.com，通过访问test.com，就可以绕过 CDN 了。

案例2：站点同时支持http和https访问，CDN只配置 https协议，那么这时访问http就可以轻易绕过。